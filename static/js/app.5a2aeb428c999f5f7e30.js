webpackJsonp([1],{"7M1w":function(e,t){},AMBn:function(e,t){},DuPI:function(e,t){},IiWu:function(e,t){},KpPp:function(e,t,n){var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t){var n;function i(e){return"function"==typeof e.key?e.key():e.key}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e){var t=e.val(),n=a(t)?t:{".value":t};return n[".key"]=i(e),n}function s(e,t){for(var n=0;n<e.length;n++)if(e[n][".key"]===t)return n;return-1}function o(e,t,n){var o=!1,l=null,u=null;if(a(n)&&n.hasOwnProperty("source")&&(o=n.asObject,l=n.cancelCallback,u=n.readyCallback,n=n.source),!a(n))throw new Error("VueFire: invalid Firebase binding source.");var d,h=("function"==typeof(d=n).ref?d=d.ref():"object"==typeof d.ref&&(d=d.ref),d);e.$firebaseRefs[t]=h,e._firebaseSources[t]=n,l&&(l=l.bind(e)),o?function(e,t,n,i){c(e,t,{});var a=n.on("value",function(n){e[t]=r(n)},i);e._firebaseListeners[t]={value:a}}(e,t,n,l):function(e,t,n,a){var o=[];c(e,t,o);var l=n.on("child_added",function(e,t){var n=t?s(o,t)+1:0;o.splice(n,0,r(e))},a),u=n.on("child_removed",function(e){var t=s(o,i(e));o.splice(t,1)},a),d=n.on("child_changed",function(e){var t=s(o,i(e));o.splice(t,1,r(e))},a),h=n.on("child_moved",function(e,t){var n=s(o,i(e)),a=o.splice(n,1)[0],r=t?s(o,t)+1:0;o.splice(r,0,a)},a);e._firebaseListeners[t]={child_added:l,child_removed:u,child_changed:d,child_moved:h}}(e,t,n,l),u&&n.once("value",u.bind(e))}function c(e,t,i){t in e?e[t]=i:n.util.defineReactive(e,t,i)}function l(e){e.$firebaseRefs||(e.$firebaseRefs=Object.create(null),e._firebaseSources=Object.create(null),e._firebaseListeners=Object.create(null))}var u={created:function(){var e=this.$options.firebase;if("function"==typeof e&&(e=e.call(this)),e)for(var t in l(this),e)o(this,t,e[t])},beforeDestroy:function(){if(this.$firebaseRefs){for(var e in this.$firebaseRefs)this.$firebaseRefs[e]&&this.$unbind(e);this.$firebaseRefs=null,this._firebaseSources=null,this._firebaseListeners=null}}};function d(e){(n=e).mixin(u);var t=n.config.optionMergeStrategies;t.firebase=t.provide,n.prototype.$bindAsObject=function(e,t,n,i){l(this),o(this,e,{source:t,asObject:!0,cancelCallback:n,readyCallback:i})},n.prototype.$bindAsArray=function(e,t,n,i){l(this),o(this,e,{source:t,cancelCallback:n,readyCallback:i})},n.prototype.$unbind=function(e){!function(e,t){var n=e._firebaseSources&&e._firebaseSources[t];if(!n)throw new Error('VueFire: unbind failed: "'+t+'" is not bound to a Firebase reference.');var i=e._firebaseListeners[t];for(var a in i)n.off(a,i[a]);e[t]=null,e.$firebaseRefs[t]=null,e._firebaseSources[t]=null,e._firebaseListeners[t]=null}(this,e)}}"undefined"!=typeof window&&window.Vue&&d(window.Vue),e.exports=d}])},e.exports=i()},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),a=n("kxiW"),r=n.n(a),s={name:"navbar",data:function(){return{isLoggedIn:!1,currentUser:!1}},created:function(){r.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=r.a.auth().currentUser.email)},methods:{logout:function(){var e=this;r.a.auth().signOut().then(function(){e.$router.push("/login"),window.location.reload(!0)})}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-white"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[e._v("Playscapes")]),e._v(" "),e._m(0),e._v(" "),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarTogglerDemo02"}},[n("ul",{staticClass:"navbar-nav ml-auto mt-2 mt-lg-0"},[e.isLoggedIn?n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/rtplay"}},[e._v("RT Playboard")])],1):e._e(),e._v(" "),e.isLoggedIn?n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/rtthreed"}},[e._v("RT 3D")])],1):e._e(),e._v(" "),e.isLoggedIn?n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/field"}},[e._v("Field")])],1):e._e(),e._v(" "),e.isLoggedIn?n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[e._v(e._s(e.currentUser))])],1):e._e(),e._v(" "),e.isLoggedIn?e._e():n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[e._v("Login")])],1),e._v(" "),e.isLoggedIn?e._e():n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[e._v("Register")])],1),e._v(" "),e.isLoggedIn?n("li",{staticClass:"nav-item"},[n("button",{staticClass:"btn btn-outline-dark my-2 my-sm-0",on:{click:e.logout}},[e._v("Logout")])]):e._e()])])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])}]},c={name:"App",components:{Navbar:n("VU/8")(s,o,!1,null,null,null).exports}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Navbar"),this._v(" "),t("div",[t("router-view")],1)],1)},staticRenderFns:[]},u=n("VU/8")(c,l,!1,null,null,null).exports,d=n("/ocq"),h=(n("881v"),r.a.initializeApp({apiKey:"AIzaSyCeOmk2Dn8KK175ip0Pmgb7cu1kd7j_M8o",authDomain:"playscapes01.firebaseapp.com",databaseURL:"https://playscapes01.firebaseio.com",projectId:"playscapes01",storageBucket:"playscapes01.appspot.com",messagingSenderId:"370840827427"})),p=h.firestore(),m=h.database(),v={name:"dashboard",data:function(){return{employees:[],isLoggedIn:!1,currentUser:!1}},created:function(){var e=this;r.a.auth().currentUser&&(this.isLoggedIn=!0,this.currentUser=r.a.auth().currentUser.email),p.collection("employees").orderBy("employee_id").get().then(function(t){t.forEach(function(t){var n={id:t.id,employee_id:t.data().employee_id,name:t.data().name,dept:t.data().dept};e.employees.push(n)})}),console.log(this.employees)},methods:{logout:function(){var e=this;r.a.auth().signOut().then(function(){e.$router.push("/login"),window.location.reload(!0)})}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5",attrs:{id:"dashboard"}},[n("div",{staticClass:"card"},[n("ul",{staticClass:"list-group list-group-flush"},[n("li",{staticClass:"list-group-item"},[e._v("Signed in as: "+e._s(e.currentUser))]),e._v(" "),n("button",{staticClass:"list-group-item btn btn-outline-danger",on:{click:e.logout}},[e._v("Sign Out")])])]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"card"},[e._m(0),e._v(" "),n("table",{staticClass:"table table-striped"},[e._m(1),e._v(" "),n("tbody",e._l(e.employees,function(t){return n("tr",{key:t.id},[n("th",{attrs:{scope:"row"}},[e._v(e._s(t.employee_id))]),e._v(" "),n("td",[e._v(e._s(t.name))]),e._v(" "),n("td",[e._v(e._s(t.dept))]),e._v(" "),n("td",[n("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:{name:"view-employee",params:{employee_id:t.employee_id}}}},[e._v("view")])],1)])}),0)]),e._v(" "),n("ul",{staticClass:"list-group list-group-flush"},[n("router-link",{staticClass:"list-group-item btn btn-outline-success",attrs:{to:"/"}},[e._v("Add (to be implemented)")])],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h4",[this._v("Ongoing Games")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[this._v("ID")]),this._v(" "),t("th",{attrs:{scope:"col"}},[this._v("Name")]),this._v(" "),t("th",{attrs:{scope:"col"}},[this._v("Owner")]),this._v(" "),t("th",{attrs:{scope:"col"}},[this._v("Overview")])])])}]},g=n("VU/8")(v,f,!1,null,null,null).exports,w={name:"new-employee",data:function(){return{employee_id:null,name:null,dept:null}},methods:{saveEmployee:function(){var e=this;p.collection("employees").add({employee_id:this.employee_id,name:this.name,dept:this.dept,position:this.position}).then(function(t){e.$router.push("/")}).catch(function(e){return console.log(err)})}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5",attrs:{id:"new-employee"}},[n("div",{staticClass:"card"},[e._m(0),e._v(" "),n("div",{staticClass:"card-body"},[n("form",{staticClass:"col s12",on:{submit:function(t){return t.preventDefault(),e.saveEmployee(t)}}},[n("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.employee_id,expression:"employee_id"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.employee_id},on:{input:function(t){t.target.composing||(e.employee_id=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(3),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dept,expression:"dept"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.dept},on:{input:function(t){t.target.composing||(e.dept=t.target.value)}}})]),e._v(" "),n("hr"),e._v(" "),n("div",[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),n("router-link",{staticClass:"btn btn-outline-danger",attrs:{to:"/"}},[e._v("Cancel")])],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h4",[this._v("Edit Player")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Player ID")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Name")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Role")])])}]},_=n("VU/8")(w,y,!1,null,null,null).exports,b={name:"edit-employee",data:function(){return{employee_id:null,name:null,dept:null,position:null}},beforeRouteEnter:function(e,t,n){p.collection("employees").where("employee_id","==",e.params.employee_id).get().then(function(e){e.forEach(function(e){n(function(t){t.employee_id=e.data().employee_id,t.name=e.data().name,t.dept=e.data().dept})})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var e=this;p.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(function(t){t.forEach(function(t){e.employee_id=t.data().employee_id,e.name=t.data().name,e.dept=t.data().dept})})},updateEmployee:function(){var e=this;confirm("Sure?")&&p.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(function(t){t.forEach(function(t){t.ref.update({employee_id:e.employee_id,name:e.name,dept:e.dept}).then(function(){e.$router.push({name:"view-employee",params:{employee_id:e.employee_id}})})})})}}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5",attrs:{id:"edit-employee"}},[n("div",{staticClass:"card"},[e._m(0),e._v(" "),n("div",{staticClass:"card-body"},[n("form",{staticClass:"col s12",on:{submit:function(t){return t.preventDefault(),e.updateEmployee(t)}}},[n("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.employee_id,expression:"employee_id"}],staticClass:"form-control",attrs:{type:"text",disabled:"",required:""},domProps:{value:e.employee_id},on:{input:function(t){t.target.composing||(e.employee_id=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(3),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dept,expression:"dept"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.dept},on:{input:function(t){t.target.composing||(e.dept=t.target.value)}}})]),e._v(" "),n("hr"),e._v(" "),n("div",[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit")]),e._v(" "),n("router-link",{staticClass:"btn btn-outline-danger",attrs:{to:"/"}},[e._v("Cancel")])],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h4",[this._v("Edit Game")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Game ID")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Name")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Owner")])])}]},C=n("VU/8")(b,x,!1,null,null,null).exports,D={name:"view-employee",data:function(){return{employee_id:null,name:null,dept:null}},beforeRouteEnter:function(e,t,n){p.collection("employees").where("employee_id","==",e.params.employee_id).get().then(function(e){e.forEach(function(e){n(function(t){t.employee_id=e.data().employee_id,t.name=e.data().name,t.dept=e.data().dept})})})},watch:{$route:"fetchData"},methods:{fetchData:function(){var e=this;p.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(function(t){t.forEach(function(t){e.employee_id=t.data().employee_id,e.name=t.data().name,e.dept=t.data().dept})})},deleteEmployee:function(){var e=this;confirm("Sure?")&&p.collection("employees").where("employee_id","==",this.$route.params.employee_id).get().then(function(t){t.forEach(function(t){t.ref.delete(),e.$router.push("/")})})},doNothing:function(){console.log("to be implemented")},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},tempAnchorList:function(){var e=[];return anchorsRef.once("value",function(t){t.forEach(function(t){var n={Key:t.key,Data:t.val()};e.push(n)})}),e}}},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5",attrs:{id:"view-employee"}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("h4",[e._v(e._s(e.name))])]),e._v(" "),n("ul",{staticClass:"list-group list-group-flush"},[n("li",{staticClass:"list-group-item"},[e._v("Game ID : "+e._s(e.employee_id))]),e._v(" "),n("li",{staticClass:"list-group-item"},[e._v("Owner : "+e._s(e.dept))]),e._v(" "),n("router-link",{staticClass:"list-group-item btn btn-outline-primary",attrs:{to:"/rtplay"}},[e._v("Playboard")]),e._v(" "),n("router-link",{staticClass:"list-group-item btn btn-outline-primary",attrs:{to:"/field"}},[e._v("Field")]),e._v(" "),n("router-link",{staticClass:"list-group-item btn btn-outline-warning",attrs:{to:"/rtthreed"}},[e._v("3D (under construction)")])],1)]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"card"},[n("ul",{staticClass:"list-group list-group-flush"},[n("router-link",{staticClass:"list-group-item btn btn-outline-dark",attrs:{to:"/"}},[e._v("Back")]),e._v(" "),n("router-link",{staticClass:"list-group-item btn btn-outline-primary",attrs:{to:{name:"edit-employee",params:{employee_id:e.employee_id}}}},[e._v("Edit Information")]),e._v(" "),n("button",{staticClass:"list-group-item btn btn-outline-danger",on:{click:e.doNothing}},[e._v("Delete (to be implemented)")])],1),e._v(" "),n("div",{staticClass:"fixed-action-btn"},[n("router-link",{staticClass:"btn-floating btn-larg red",attrs:{to:{name:"edit-employee",params:{employee_id:e.employee_id}}}},[n("i",{staticClass:"fa fa-pencil"})])],1)])])},staticRenderFns:[]},A=n("VU/8")(D,k,!1,null,null,null).exports,E={name:"login",data:function(){return{email:"",password:""}},methods:{login:function(e){var t=this;r.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){window.location.reload(!0),t.$router.push("/")},function(e){alert(e.message)}),e.preventDefault()},register:function(e){var t=this;r.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(e){alert("Account Created"),window.location.reload(!0),t.$router.push("/")},function(e){alert(e.message)}),e.preventDefault()}}},I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container pt-5"},[n("div",{staticClass:"card"},[e._m(0),e._v(" "),n("div",{staticClass:"card-body"},[n("form",[n("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("buttun",{staticClass:"btn btn-outline-primary",on:{click:e.login}},[e._v("Sign In")]),e._v(" "),n("buttun",{staticClass:"btn btn-outline-success",on:{click:e.register}},[e._v("Sign Up")])],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h3",[this._v("Login")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Email")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Password")])])}]},H=n("VU/8")(E,I,!1,null,null,null).exports,M={name:"register",data:function(){return{email:"",password:""}},methods:{register:function(e){var t=this;r.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(e){alert("Account Created"),window.location.reload(!0),t.$router.push("/")},function(e){alert(e.message)}),e.preventDefault()}}},T={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pt-5"},[n("div",{staticClass:"card text-black bg-light mb-3"},[e._m(0),e._v(" "),n("div",{staticClass:"card-body"},[n("form",[n("div",{staticClass:"input-group mb-3"},[e._m(1),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group mb-3"},[e._m(2),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("buttun",{staticClass:"btn btn-outline-success",on:{click:e.register}},[e._v("Register")])],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("h3",[this._v("Register")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Email")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("Password")])])}]},S=n("VU/8")(M,T,!1,null,null,null).exports,R=(n("YrBu"),n("vwbq"),n("M4fF"),{name:"playboard",data:function(){return{employees:[],nrad:7,space:1,color:"#aaa",maxID:0,ratio:32,nindex:0,curAnchor:-1,grid:[],anchors:[],window:{width:0,height:0}}},computed:{numi:function(){return this.window.width/this.ratio},numj:function(){return this.window.height/this.ratio}},created:function(){var e=this;window.addEventListener("resize",this.handleResize),this.handleResize(),this.setGrid(),this.getAnchorLocationFromServer(),this.calculateTheField(),window.addEventListener("keydown",function(t){"s"==t.key&&e.addAnchor(0),"x"==t.key&&e.addAnchor(1),"Backspace"!=t.key&&"d"!=t.key||e.deleteAnchor()})},destroyed:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},addAnchor:function(e){var t={id:this.maxID,x:0,y:0,v:e};this.anchors.push(t),this.curAnchor=this.maxID,this.maxID+=1,this.addAnchorToServer(t),this.calculateTheField()},deleteAnchor:function(){if(-1!=this.curAnchor){var e,t=[];for(e=0;e<this.anchors.length;e++){var n=this.anchors[e];this.curAnchor!=n.id?t.push(n):(this.deleteAnchorFromServer(n),console.log("anchor "+String(n.id)+" deleted"))}this.anchors=t,this.curAnchor=-1,this.calculateTheField()}},getAnchorLocationFromServer:function(){var e=this;p.collection("anchors").get().then(function(t){t.forEach(function(t){var n=e.setHexColor(t.data().v);t.data().id>e.maxID&&(e.maxID=t.data().id+1);var i={id:t.data().id,x:t.data().x,y:t.data().y,v:t.data().v,c:n};e.anchors.push(i)})})},addAnchorToServer:function(e){p.collection("anchors").add(e)},updateAnchorLocationOnServer:function(e){p.collection("anchors").where("id","==",e.id).get().then(function(t){t.forEach(function(t){t.ref.update({x:e.x,y:e.y})})})},deleteAnchorFromServer:function(e){p.collection("anchors").where("id","==",e.id).get().then(function(e){e.forEach(function(e){e.ref.delete()})})},setHexColor:function(e){return n("YrBu")("hsl("+String(240+120*e)+", 100%, 50%)").toHexString()},handleClickPoint:function(e){var t,n;for(n=0;n<this.anchors.length;n++)this.anchors[n].id==this.curAnchor&&(t=this.anchors[n]);t.x=e.x,t.y=e.y,this.updateAnchorLocationOnServer(t),this.calculateTheField(),console.log("anchor "+String(t.id)+" moved")},handleClickAnchor:function(e){this.curAnchor=e.id,console.log("anchor "+String(e.id)+" selected")},setGrid:function(){var e,t,n=1;for(e=0;e<this.numi;e++)for(t=0;t<this.numj;t++){var i={id:n+=1,x:e,y:t,v:.5};this.grid.push(i)}},setAnchors:function(){var e;for(e=0;e<2;e++){var t={id:e,x:e,y:e,v:e};this.anchors.push(t)}},fit:function(e,t,n,i,a){return e>n&&(e=n),e<t&&(e=t),i+(a-i)*(e-t)/(n-t)},calculateTheField:function(){var e;for(e=0;e<this.grid.length;e++){var t,n=this.grid[e],i=0,a=0;for(t=0;t<this.anchors.length;t++){var r=this.anchors[t],s=Math.pow(r.x-n.x,2),o=Math.pow(r.y-n.y,2),c=Math.pow(s+o,.5);if(0==c){i=1e-6,a=r.v;break}var l=Math.pow(c,-3);a+=r.v*l,i+=(1-r.v)*l}var u=a/(a+i);n.v=this.fit(u,.25,.75,0,1),n.c=this.setHexColor(n.v)}for(t=0;t<this.anchors.length;t++){(r=this.anchors[t]).c=this.setHexColor(r.v)}}}}),L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pt-5",attrs:{id:"playboard"}},[n("svg",{attrs:{id:"picture",viewBox:"-250 -250 500 500"}},[n("circle",{attrs:{cx:(-1.5-e.numi/2)*(e.nrad+e.space)*2,cy:(.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"blue",stroke:"#999"},on:{click:function(t){return e.addAnchor(0)}}}),e._v(" "),n("circle",{attrs:{cx:(-1.5-e.numi/2)*(e.nrad+e.space)*2,cy:(2.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"red",stroke:"#999"},on:{click:function(t){return e.addAnchor(1)}}}),e._v(" "),n("circle",{attrs:{cx:(-1.5-e.numi/2)*(e.nrad+e.space)*2,cy:(4.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"#333",stroke:"#999"},on:{click:function(t){return e.deleteAnchor()}}}),e._v(" "),e._l(e.grid,function(t){return[n("circle",{key:t.id,attrs:{cx:(t.x-e.numi/2)*(e.nrad+e.space)*2,cy:(t.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad,fill:"#ddd",stroke:t.c,"stroke-width":"1.4"},on:{click:function(n){return e.handleClickPoint(t)}}})]}),e._v(" "),e._l(e.anchors,function(t){return[n("circle",{key:-t.id,attrs:{cx:(t.x-e.numi/2)*(e.nrad+e.space)*2,cy:(t.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad-2,fill:t.c},on:{click:function(n){return e.handleClickAnchor(t)}}})]})],2)])},staticRenderFns:[]};var $=n("VU/8")(R,L,!1,function(e){n("DuPI")},null,null).exports,P=m.ref("anchors"),G={name:"rtplayboard",firebase:{anchors:P},data:function(){return{employees:[],nrad:13,space:1.6,color:"#aaa",ratio:34,nindex:0,curAnchor:-1,calcCount:0,intervalid1:"",grid:[],anchorManual:[],window:{width:0,height:0},startTime:0,firstRound:0}},computed:{numi:function(){return(this.window.width-50)/this.ratio},numj:function(){return(this.window.height-50)/this.ratio}},created:function(){var e=this;document.getElementById("rtplayboard").addEventListener("touchmove",function(e){e.preventDefault()},!1),window.addEventListener("resize",this.handleResize),this.handleResize(),window.addEventListener("keydown",function(t){"s"==t.key&&e.addAnchor(0),"x"==t.key&&e.addAnchor(1),"Backspace"!=t.key&&"d"!=t.key||e.deleteAnchor()})},destroyed:function(){window.removeEventListener("resize",this.handleResize)},beforeDestroy:function(){clearInterval(this.intervalid1)},mounted:function(){this.startTime=Date.now(),this.setGrid(),this.anchorManualUpdate(),this.calculateTheField(),this.recalc()},methods:{anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},recalc:function(){var e=this;this.intervalid1=setInterval(function(){var t=e.anchorManual;e.anchorManualUpdate();var n=e.anchorManual;(e.arraysEqual(t,n)||e.calculateTheField(),0==e.firstRound)&&(Date.now()-e.startTime>1e3&&(e.calculateTheField(),e.firstRound=1))},1e3/30)},arraysEqual:function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].Data.id!==t[n].Data.id)return!1;if(e[n].Data.x!==t[n].Data.x)return!1;if(e[n].Data.y!==t[n].Data.y)return!1;if(e[n].Data.v!==t[n].Data.v)return!1}return!0},maxID:function(){var e,t=1,n=this.anchorManual;for(e=0;e<n.length;e++){var i=n[e].Data;t<=i.id&&(t=i.id+1)}return t},tempAnchorList:function(){var e=[];return P.once("value",function(t){t.forEach(function(t){var n={Key:t.key,Data:t.val()};e.push(n)})}),e},handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},addAnchor:function(e){var t={id:this.maxID(),x:0,y:0,v:e};P.push(t),this.curAnchor=t.id,console.log("anchor "+this.curAnchor+" added")},deleteAnchor:function(){var e=0;if(-1!=this.curAnchor){for(var t=this.anchorManual,n=0;n<t.length;n++){var i=t[n].Data,a=t[n].Key;this.curAnchor==i.id&&(P.child(a).remove(),e=1)}console.log("anchor "+this.curAnchor+" added"),this.curAnchor=-1}else console.log("anchor "+String(this.curAnchor)+" does not exist anymore");0==e&&console.log("anchor "+String(this.curAnchor)+" does not exist anymore")},setHexColor:function(e){return n("YrBu")("hsl("+String(240+120*e)+", 100%, 50%)").toHexString()},setHexColorPlusUpdates:function(e){var t=n("YrBu"),i="hsl("+String(240+120*e)+", 100%, 50%)";return this.calculateTheField(),t(i).toHexString()},handleClickPoint:function(e){for(var t=0,n=this.anchorManual,i=0;i<n.length;i++){var a=n[i].Data,r=n[i].Key;if(this.curAnchor==n[i].Data.id){a=n[i].Data,r=n[i].Key,t=1;break}}1==t?(a.x=e.x,a.y=e.y,P.child(r).set(a),console.log("anchor "+String(a.id)+" moved"),this.calculateTheField()):(console.log("anchor "+String(this.curAnchor)+" does not exist anymore"),this.curAnchor=-1)},handleClickAnchor:function(e){this.curAnchor=e.id,console.log("anchor "+String(e.id)+" selected")},setGrid:function(){var e,t,n=1;for(e=0;e<this.numi;e++)for(t=0;t<this.numj;t++){var i={id:n+=1,x:e,y:t,v:.5};this.grid.push(i)}},fit:function(e,t,n,i,a){return e>n&&(e=n),e<t&&(e=t),i+(a-i)*(e-t)/(n-t)},calculateTheField:function(){var e,t=this.anchorManual;for(e=0;e<this.grid.length;e++){var n,i=this.grid[e],a=0,r=0;for(n=0;n<t.length;n++){var s=t[n].Data,o=Math.pow(s.x-i.x,2),c=Math.pow(s.y-i.y,2),l=Math.pow(o+c,.5);if(0==l){a=1e-6,r=s.v;break}var u=Math.pow(l,-3);r+=s.v*u,a+=(1-s.v)*u}var d=r/(r+a);i.v=this.fit(d,0,1,0,1)}this.calcCount+=1},WIDTH:function(){return window.innerWidth},HEIGHT:function(){return window.innerHeight-62},viewBox:function(){return String(-this.WIDTH()/2)+" "+String(-this.HEIGHT()/2)+" "+String(this.WIDTH())+" "+String(this.HEIGHT())}}},B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"rtplayboard"}},[n("svg",{attrs:{width:e.WIDTH(),height:e.HEIGHT(),viewBox:e.viewBox()}},[n("circle",{attrs:{cx:(-1.5-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"blue",stroke:"#999"},on:{click:function(t){return e.addAnchor(0)}}}),e._v(" "),n("circle",{attrs:{cx:(-1.5-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(2.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"red",stroke:"#999"},on:{click:function(t){return e.addAnchor(1)}}}),e._v(" "),n("circle",{attrs:{cx:(-1.5-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(4.5-e.numj/2)*(e.nrad+e.space)*2,r:2*e.nrad,fill:"#333",stroke:"#999"},on:{click:function(t){return e.deleteAnchor()}}}),e._v(" "),e._l(e.grid,function(t){return[n("circle",{key:t.id,attrs:{cx:(t.x-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(t.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad,fill:"#ddd",stroke:e.setHexColor(t.v),"stroke-width":"2"},on:{click:function(n){return e.handleClickPoint(t)}}})]}),e._v(" "),e._l(e.anchorManual,function(t){return[n("circle",{key:-t.Data.id,attrs:{cx:(t.Data.x-(e.numi-2)/2)*(e.nrad+e.space)*2,cy:(t.Data.y-e.numj/2)*(e.nrad+e.space)*2,r:e.nrad-2,fill:e.setHexColor(t.Data.v)},on:{click:function(n){return e.handleClickAnchor(t.Data)}}})]})],2)])},staticRenderFns:[]};var F=n("VU/8")(G,B,!1,function(e){n("7M1w")},null,null).exports,W=n("Ml+6"),z=m.ref("anchors"),U={name:"threed",data:function(){return{tolerance:.1,intervalid1:"",anchorManual:[],camera:null,scene:null,renderer:null,meshes:[]}},mounted:function(){this.recalc(),this.init(),this.tempAnchorList(),this.setAnalysisGrid(this.tolerance),this.constructMeshes(),this.addMeshesToScene(),this.animate()},beforeDestroy:function(){clearInterval(this.intervalid1)},methods:{init:function(){var e=document.getElementById("threed");this.scene=new W.Scene,this.scene.background=new W.Color(16777215),this.camera=new W.PerspectiveCamera(40,this.WIDTH()/this.HEIGHT(),1,1e3),this.camera.position={x:4,y:4,z:10};var t=new W.Vector3(0,0,0);this.camera.lookAt(t),this.renderer=new W.WebGLRenderer,this.renderer.setSize(this.WIDTH(),this.HEIGHT()),e.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},constructMeshes:function(){this.makeBox(2,2,2),this.makeCube(2.005)},addMeshesToScene:function(){for(var e=0;e<this.meshes.length;e++)this.scene.add(this.meshes[e])},animate:function(){requestAnimationFrame(this.animate),this.meshes[0].rotation.y+=.005,this.meshes[1].rotation.y+=.005,this.renderer.render(this.scene,this.camera)},makeBox:function(e,t,n){var i=new W.BoxGeometry(e,t,n),a=new W.LineBasicMaterial({color:16777215,linewidth:1,linecap:"round",linejoin:"round",blending:W.AdditiveBlending,transparent:!0,opacity:.8}),r=new W.Mesh(i,a);this.meshes.push(r)},makePlane:function(e){var t=new W.PlaneGeometry(e,e),n=new W.MeshBasicMaterial({color:13421772,side:W.DoubleSide}),i=new W.Mesh(t,n);i.rotation.x=Math.PI/2,this.meshes.push(i)},makeCube:function(e){var t=this.cube(e),n=new W.LineSegments(t,new W.LineBasicMaterial({color:0,dashSize:.02,gapSize:.01}));n.computeLineDistances(),this.meshes.push(n)},cube:function(e){var t=.5*e,n=new W.BufferGeometry,i=[];return i.push(-t,-t,-t,-t,t,-t,-t,t,-t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,-t,-t,t,-t,t,t,-t,t,t,t,t,t,t,t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,t,-t,t,-t,-t,t,t,t,t,-t,t,t,t,t,-t,-t,t,-t,t),n.addAttribute("position",new W.Float32BufferAttribute(i,3)),n},WIDTH:function(){return 2*window.innerWidth},HEIGHT:function(){return 2*(window.innerHeight-62)},onWindowResize:function(){this.camera.aspect=this.WIDTH()/this.HEIGHT(),console.log(this.WIDTH(),this.HEIGHT()),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.WIDTH(),this.HEIGHT())},tempAnchorList:function(){var e=[];return z.once("value",function(t){t.forEach(function(t){var n={Key:t.key,Data:t.val()};e.push(n)})}),e},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},recalc:function(){var e=this;this.intervalid1=setInterval(function(){e.anchorManualUpdate(),e.setAnalysisGrid(e.tol)},100)},setAnalysisGrid:function(e){var t=this.anchorManual;if(t.length>0){for(var n,i,a=t[0].Data.x,r=t[0].Data.y,s=0;s<t.length;s++)t[s].Data.x>a&&(a=t[s].Data.x),t[s].Data.x<n&&(n=t[s].Data.x),t[s].Data.y>r&&(r=t[s].Data.y),t[s].Data.y<i&&(i=t[s].Data.y);console.loh("i got here"),console.log(n,a,i,r)}}}},j={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"threed"}})},staticRenderFns:[]};var q=n("VU/8")(U,j,!1,function(e){n("uaeV")},"data-v-7a44f94c",null).exports,O=n("qKrd"),V=n.n(O)()(W),N=m.ref("anchors"),K={name:"rtthreed",firebase:{anchors:N},data:function(){return{employees:[],nrad:13,space:1.6,color:"#aaa",ratio:34,nindex:0,curAnchor:-1,calcCount:0,intervalid1:"",grid:[],anchorManual:[],window:{width:0,height:0},tolerance:.05,rotation:0,extrusionHeight:1,startTime:0,firstRound:0,camera:null,control:null,scene:null,renderer:null,meshes:[]}},computed:{numi:function(){return(this.window.width-50)/this.ratio},numj:function(){return(this.window.height-50)/this.ratio}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},beforeDestroy:function(){clearInterval(this.intervalid1)},mounted:function(){this.startTime=Date.now(),console.log(V),this.init(),this.constructMeshes(),this.addMeshesToScene(),this.initialRender(),console.log("start"),this.recalc()},methods:{init:function(){var e=document.getElementById("rtthreed");this.scene=new W.Scene,this.scene.background=new W.Color(16777215),this.camera=new W.PerspectiveCamera(40,this.WIDTH()/this.HEIGHT(),1,1e3),this.camera.position.set(16,16,16);var t=new W.Vector3(4,0,4);this.camera.lookAt(t),this.renderer=new W.WebGLRenderer,this.renderer.setSize(this.WIDTH(),this.HEIGHT()),this.renderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.renderer.domElement),this.controls=new V(this.camera),this.controls.update(),window.addEventListener("resize",this.onWindowResize,!1)},constructMeshes:function(){this.drawThresholds(this.tolerance),this.setField(this.tolerance)},addMeshesToScene:function(){for(var e=0;e<this.meshes.length;e++)this.scene.add(this.meshes[e])},initialRender:function(){this.renderer.render(this.scene,this.camera)},recalc:function(){var e=this;this.intervalid1=setInterval(function(){var t=e.anchorManual;e.anchorManualUpdate();var n=e.anchorManual;(e.arraysEqual(t,n)?console.log("no change"):(console.log("updating"),e.toUpdate()),0==e.firstRound)&&(Date.now()-e.startTime>1e3&&(e.toUpdate(),e.firstRound=1));e.controls.update(),e.renderer.render(e.scene,e.camera)},1e3/30)},toUpdate:function(){var e=this.scene.getObjectByName("toberefreshed");this.scene.remove(e);var t=this.scene.getObjectByName("toberefreshed1");this.scene.remove(t),this.drawThresholds(this.tolerance),this.scene.add(this.meshes[this.meshes.length-1]),this.setField(this.tolerance),this.scene.add(this.meshes[this.meshes.length-1])},arraysEqual:function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].Data.id!==t[n].Data.id)return!1;if(e[n].Data.x!==t[n].Data.x)return!1;if(e[n].Data.y!==t[n].Data.y)return!1;if(e[n].Data.v!==t[n].Data.v)return!1}return!0},WIDTH:function(){return window.innerWidth},HEIGHT:function(){return window.innerHeight-62},onWindowResize:function(){this.camera.aspect=this.WIDTH()/this.HEIGHT(),console.log(this.WIDTH(),this.HEIGHT()),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.WIDTH(),this.HEIGHT())},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},fit:function(e,t,n,i,a){return e>n&&(e=n),e<t&&(e=t),i+(a-i)*(e-t)/(n-t)},drawThresholds:function(e){var t=this.anchorManual,n=0,i=0,a=0,r=0;if(t.length>0){n=t[0].Data.x,i=t[0].Data.x,a=t[0].Data.y,r=t[0].Data.y;for(var s=0;s<t.length;s++)t[s].Data.x>i&&(i=t[s].Data.x),t[s].Data.x<n&&(n=t[s].Data.x),t[s].Data.y>r&&(r=t[s].Data.y),t[s].Data.y<a&&(a=t[s].Data.y);n-=2,a-=2,i+=2,r+=2}var o=(i-n)/e,c=(r-a)/e,l=new W.BufferGeometry,u=[],d=1;for(s=0;s<o;s++)for(var h=0;h<c;h++){var p=s*e,m=h*e,v=this.evalIntensity(p,m,t),f=this.evalIntensity(p+e,m,t);if((v-.5)*(f-.5)<=0){var g=p+(v<f?this.fit(.5,v,f,0,1):this.fit(.5,f,v,1,0))*e,w=m;u.push(g+n,0,w+a),u.push(g+n,this.extrusionHeight,w+a),d++}var y=this.evalIntensity(p,m+e,t);if((v-.5)*(y-.5)<=0){w=m+(v<y?this.fit(.5,v,y,0,1):this.fit(.5,y,v,1,0))*e,g=p;u.push(g+n,0,w+a),u.push(g+n,this.extrusionHeight,w+a),d++}}var _=new Float32Array(3*d*2);for(s=0;s<3*d*2;s++)_[s]=u[s];l.addAttribute("position",new W.BufferAttribute(_,3));var b=new W.LineSegments(l,new W.LineBasicMaterial({color:0}));b.name="toberefreshed",this.meshes.push(b)},evalIntensity:function(e,t,n){var i,a=0,r=0;for(i=0;i<n.length;i++){var s=n[i].Data,o=Math.pow(s.x-e,2),c=Math.pow(s.y-t,2),l=Math.pow(o+c,.5);if(0==l){a=1e-6,r=s.v;break}var u=Math.pow(l,-3);r+=s.v*u,a+=(1-s.v)*u}var d=r/(r+a);return this.fit(d,0,1,0,1)},setField:function(e){var t=this.anchorManual,n=0,i=0,a=0,r=0;if(t.length>0){n=t[0].Data.x,i=t[0].Data.x,a=t[0].Data.y,r=t[0].Data.y;for(var s=0;s<t.length;s++)t[s].Data.x>i&&(i=t[s].Data.x),t[s].Data.x<n&&(n=t[s].Data.x),t[s].Data.y>r&&(r=t[s].Data.y),t[s].Data.y<a&&(a=t[s].Data.y);n-=2,a-=2,i+=2,r+=2}var o=(i-n)/e,c=(r-a)/e,l=new W.BufferGeometry,u=(new W.Color(1,0,0),o*c),d=new Float32Array(3*u),h=new Float32Array(3*u),p=0;for(s=0;s<o;s++)for(var m=0;m<c;m++){var v,f=s*e,g=m*e,w=0,y=0;for(v=0;v<t.length;v++){var _=t[v].Data,b=Math.pow(_.x-f,2),x=Math.pow(_.y-g,2),C=Math.pow(b+x,.5);if(0==C){w=1e-6,y=_.v;break}var D=Math.pow(C,-3);y+=_.v*D,w+=(1-_.v)*D}var k=y/(y+w),A=this.fit(k,0,1,0,1);d[3*p]=f+n,d[3*p+1]=0,d[3*p+2]=g+a;h[3*p]=A,h[3*p+1]=0,h[3*p+2]=1-A,p++}l.addAttribute("position",new W.BufferAttribute(d,3)),l.addAttribute("color",new W.BufferAttribute(h,3));var E=new W.PointsMaterial({size:.05,vertexColors:W.VertexColors}),I=new W.Points(l,E);I.name="toberefreshed1",this.meshes.push(I)},tempAnchorList:function(){var e=[];return N.once("value",function(t){t.forEach(function(t){var n={Key:t.key,Data:t.val()};e.push(n)})}),e},handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},viewBox:function(){return String(-this.WIDTH()/2)+" "+String(-this.HEIGHT()/2)+" "+String(this.WIDTH())+" "+String(this.HEIGHT())}}},Y={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"rtthreed"}})},staticRenderFns:[]};var J=n("VU/8")(K,Y,!1,function(e){n("IiWu")},"data-v-15d9666a",null).exports,Q=m.ref("anchors"),X={name:"field",firebase:{anchors:Q},data:function(){return{employees:[],nrad:13,space:1.6,color:"#aaa",ratio:34,nindex:0,curAnchor:-1,calcCount:0,intervalid1:"",grid:[],anchorManual:[],window:{width:0,height:0},tolerance:.15,rotation:0,camera:null,scene:null,renderer:null,meshes:[]}},computed:{numi:function(){return(this.window.width-50)/this.ratio},numj:function(){return(this.window.height-50)/this.ratio}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.anchorManualUpdate()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},beforeDestroy:function(){clearInterval(this.intervalid1)},mounted:function(){this.init(),this.constructMeshes(),this.addMeshesToScene(),this.recalc()},methods:{init:function(){var e=document.getElementById("field");this.scene=new W.Scene,this.scene.background=new W.Color(16777215),this.camera=new W.PerspectiveCamera(40,this.WIDTH()/this.HEIGHT(),1,1e3),this.camera.position={x:20,y:20,z:20};var t=new W.Vector3(0,0,0);this.camera.lookAt(t),this.renderer=new W.WebGLRenderer,this.renderer.setSize(this.WIDTH(),this.HEIGHT()),this.renderer.setPixelRatio(window.devicePixelRatio),e.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize,!1)},constructMeshes:function(){this.setField(this.tolerance)},addMeshesToScene:function(){for(var e=0;e<this.meshes.length;e++)this.scene.add(this.meshes[e])},animate:function(){setTimeout(function(){console.log("imwaiting")},5e3),requestAnimationFrame(this.animate),this.meshes[0].rotation.y+=.005,this.meshes[1].rotation.y+=.005,this.renderer.render(this.scene,this.camera)},recalc:function(){var e=this;this.intervalid1=setInterval(function(){e.anchorManualUpdate();var t=e.scene.getObjectByName("toberefreshed");e.scene.remove(t),e.setField(e.tolerance),e.scene.add(e.meshes[e.meshes.length-1]),e.renderer.render(e.scene,e.camera)},100)},makeBox:function(e,t,n){var i=new W.BoxGeometry(e,t,n),a=new W.LineBasicMaterial({color:16777215,linewidth:1,linecap:"round",linejoin:"round",blending:W.AdditiveBlending,transparent:!0,opacity:.8}),r=new W.Mesh(i,a);this.meshes.push(r)},makePlane:function(e){var t=new W.PlaneGeometry(e,e),n=new W.MeshBasicMaterial({color:13421772,side:W.DoubleSide}),i=new W.Mesh(t,n);i.rotation.x=Math.PI/2,this.meshes.push(i)},makeCube:function(e){var t=this.cube(e),n=new W.LineSegments(t,new W.LineBasicMaterial({color:0,dashSize:.02,gapSize:.01}));n.computeLineDistances(),this.meshes.push(n)},cube:function(e){var t=.5*e,n=new W.BufferGeometry,i=[];return i.push(-t,-t,-t,-t,t,-t,-t,t,-t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,-t,-t,t,-t,t,t,-t,t,t,t,t,t,t,t,t,t,-t,t,t,-t,t,-t,-t,t,-t,-t,-t,-t,-t,t,-t,t,-t,-t,t,t,t,t,-t,t,t,t,t,-t,-t,t,-t,t),n.addAttribute("position",new W.Float32BufferAttribute(i,3)),n},WIDTH:function(){return window.innerWidth},HEIGHT:function(){return window.innerHeight-62},onWindowResize:function(){this.camera.aspect=this.WIDTH()/this.HEIGHT(),console.log(this.WIDTH(),this.HEIGHT()),this.camera.updateProjectionMatrix(),this.renderer.setSize(this.WIDTH(),this.HEIGHT())},anchorManualUpdate:function(){this.anchorManual=this.tempAnchorList()},fit:function(e,t,n,i,a){return e>n&&(e=n),e<t&&(e=t),i+(a-i)*(e-t)/(n-t)},setField:function(e){var t=this.anchorManual,n=0,i=0,a=0,r=0;if(t.length>0){n=t[0].Data.x,i=t[0].Data.x,a=t[0].Data.y,r=t[0].Data.y;for(var s=0;s<t.length;s++)t[s].Data.x>i&&(i=t[s].Data.x),t[s].Data.x<n&&(n=t[s].Data.x),t[s].Data.y>r&&(r=t[s].Data.y),t[s].Data.y<a&&(a=t[s].Data.y);n-=2,a-=2,i+=2,r+=2}var o=(i-n)/e,c=(r-a)/e,l=new W.BufferGeometry,u=(new W.Color(1,0,0),o*c),d=new Float32Array(3*u),h=new Float32Array(3*u),p=0;for(s=0;s<o;s++)for(var m=0;m<c;m++){var v,f=s*e,g=m*e,w=0,y=0;for(v=0;v<t.length;v++){var _=t[v].Data,b=Math.pow(_.x-f,2),x=Math.pow(_.y-g,2),C=Math.pow(b+x,.5);if(0==C){w=1e-6,y=_.v;break}var D=Math.pow(C,-3);y+=_.v*D,w+=(1-_.v)*D}var k=y/(y+w),A=this.fit(k,0,1,0,1);d[3*p]=f-.5*o*e,d[3*p+1]=A,d[3*p+2]=g-.5*c*e;h[3*p]=A,h[3*p+1]=0,h[3*p+2]=1-A,p++}l.addAttribute("position",new W.BufferAttribute(d,3)),l.addAttribute("color",new W.BufferAttribute(h,3));var E=new W.PointsMaterial({size:.1,vertexColors:W.VertexColors}),I=new W.Points(l,E);I.name="toberefreshed",this.meshes.push(I),console.log("grid updated")},tempAnchorList:function(){var e=[];return Q.once("value",function(t){t.forEach(function(t){var n={Key:t.key,Data:t.val()};e.push(n)})}),e},handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},viewBox:function(){var e=String(-this.WIDTH()/2)+" "+String(-this.HEIGHT()/2)+" "+String(this.WIDTH())+" "+String(this.HEIGHT());return console.log(e),e}}},Z={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"field"}})},staticRenderFns:[]};var ee=n("VU/8")(X,Z,!1,function(e){n("AMBn")},"data-v-03e130ec",null).exports;i.a.use(d.a);var te=new d.a({routes:[{path:"/",name:"dashboard",component:g,meta:{requiresAuth:!0}},{path:"/threed",name:"threed",component:q,meta:{requiresAuth:!0}},{path:"/field",name:"field",component:ee,meta:{requiresAuth:!0}},{path:"/rtthreed",name:"rtthreed",component:J,meta:{requiresAuth:!0}},{path:"/play",name:"playboard",component:$,meta:{requiresAuth:!0}},{path:"/rtplay",name:"rtplayboard",component:F,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:H,meta:{requiresGuest:!0}},{path:"/register",name:"register",component:S,meta:{requiresGuest:!0}},{path:"/new",name:"new-employee",component:_,meta:{requiresAuth:!0}},{path:"/edit/:employee_id",name:"edit-employee",component:C,meta:{requiresAuth:!0}},{path:"/:employee_id",name:"view-employee",component:A,meta:{requiresAuth:!0}}]});te.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?r.a.auth().currentUser?n():n({path:"/login",querry:{redirect:e.fullPath}}):e.matched.some(function(e){return e.meta.requiresGuest})&&r.a.auth().currentUser?(n(),n({path:"/",querry:{redirect:e.fullPath}})):n()});var ne=te;i.a.config.productionTip=!1;var ie=n("KpPp");i.a.use(ie);var ae=void 0;r.a.auth().onAuthStateChanged(function(e){ae||(ae=new i.a({el:"#app",router:ne,components:{App:u},template:"<App/>"}))})},uaeV:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5a2aeb428c999f5f7e30.js.map